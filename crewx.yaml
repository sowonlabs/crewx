# CrewX Custom Agents Configuration

settings:
  slack:
    log_conversations: true

# Skills configuration
skills:
  paths:
    - ./skills

# Plugin Providers
providers:
  # Crush AI Assistant
  - id: crush
    type: plugin
    cli_command: crush
    display_name: "Crush AI"
    description: "Crush terminal AI assistant with multi-model support"
    query_args:
      - "run"
      - "--quiet"  # Hide spinner for clean output
    execute_args:
      - "run"
      - "--quiet"  # Hide spinner (no --yolo: it's a global flag, not supported in args)
    prompt_in_args: true
    timeout:
      query: 1800000   # 30 minutes
      execute: 1800000 # 30 minutes

# Project-level documents (optional)
documents:
  # Git-Bug Command Reference (Primary Bug Tracking)
  git-bug-reference:
    path: "docs/guides/git-bug-reference.md"
    summary: "Git-bug command reference and CrewX bug workflow"
    type: "markdown"

  # Branch Protection Rule (All Agents)
  branch-protection:
    path: "docs/rules/branch-protection.md"
    summary: "Main directory must always stay on develop branch"
    type: "markdown"

  # Development Workflow Overview (QA Lead, Release Manager)
  development-workflow:
    path: "docs/process/development-workflow.md"
    summary: "Bug status flow, RC process, branch strategy"
    type: "markdown"

  # Test Report Structure (Tester, QA Lead)
  report-structure:
    path: "docs/standards/report-structure.md"
    summary: "Directory structure and naming conventions for test reports"
    type: "markdown"

  # RC Versioning Standard (QA Lead, Release Manager)
  rc-versioning:
    path: "docs/standards/rc-versioning.md"
    summary: "RC versioning convention - always start from rc.0"
    type: "markdown"

  # Release Manager Role & Workflows
  release-manager:
    path: "docs/prompts/release-manager.md"
    summary: "Release manager role definition, responsibilities, and workflow index"
    type: "markdown"

  # QA Lead Role & Responsibilities
  qa-lead:
    path: "docs/prompts/qa-lead.md"
    summary: "QA lead role definition, testing strategy, and coordination responsibilities"
    type: "markdown"

  # QA Tester Role & Guidelines
  qa-tester:
    path: "docs/prompts/qa-tester.md"
    summary: "Tester role definition, test execution guidelines, and reporting standards"
    type: "markdown"

  # Claude Developer Role
  dev-claude:
    path: "docs/prompts/dev-claude.md"
    summary: "Claude-powered developer role, coding standards, and best practices"
    type: "markdown"

  # Codex Developer Role
  dev-codex:
    path: "docs/prompts/dev-codex.md"
    summary: "Codex-powered developer role, coding standards, and best practices"
    type: "markdown"

  # Crush Developer Role
  dev-crush:
    path: "docs/prompts/dev-crush.md"
    summary: "Crush-powered developer role with multi-model support, coding standards, and language policy"
    type: "markdown"

  # Project Structure (for all developers)
  project-structure: |
    Read `./CREWX.md` for project overview,
    then drill down to `packages/cli/CREWX.md` and `packages/cli/src/CREWX.md`
    along with module-level docs (e.g., `packages/cli/src/cli/CREWX.md`)
    for specific file details. Each file has a 3-line purpose description.

  # Release Plan Template
  release-plan-template: |
    # Release Plan: {version}

    ## üì¶ Included Bugs
    List bugs with target_release field set to this version:
    - bug-XXXXX: [title] (target_release: {version})
    - bug-YYYYY: [title] (target_release: {version})

    ## üß™ Test Report Location
    - RC Test Reports: `reports/releases/{version}/rc.N-test-report.md`
    - QA Reports: `reports/releases/{version}/qa-report-{PASS|FAIL}.md`
    - Individual Bug Tests: `reports/bugs/bug-XXXXX-test-{timestamp}.md`

    ## üìã Testing Scope
    **NEW bugs** (not tested before): [list]
    **RETEST bugs** (failed previously): [list]
    **SKIP bugs** (already passed): [list]

    ## üéØ Success Criteria
    All included bugs must pass integration testing in RC branch.

  claude-system-prompt: |
    When executing terminal commands, use a 30-minute timeout setting.

  # Example: inline document for this project
  project-guide: |
    # Project Guide
    This is a project-specific guide.
    All agents in this file can reference this.

# Add your custom agents below:
agents:
  - id: "crewx_codex_dev"
    name: "CrewX Codex Developer"
    role: "developer"
    team: "Development Team"
    description: "Specialized developer for analyzing and improving the CrewX project (powered by Codex)"
    options:
      query: ["exec", "--experimental-json"]
      execute: ["exec", "-s", "workspace-write",  "--experimental-json"]
    inline:
      type: "agent"
      provider: "cli/codex"
      prompt: |
        You are a developer for the CrewX project.

        <document name="project-structure" type="codebase-map">
        {{{documents.project-structure.content}}}
        </document>

        <document name="git-bug-reference">
        {{{documents.git-bug-reference.content}}}
        </document>

        <document name="branch-protection">
        {{{documents.branch-protection.content}}}
        </document>

        <document name="dev-codex">
        {{{documents.dev-codex.content}}}
        </document>

  - id: "crewx_claude_dev"
    name: "CrewX Developer"
    role: "developer"
    team: "Development Team"
    description: "Specialized developer for analyzing and improving the CrewX project"
    options:
      query: ["--verbose"]
      execute: ["--verbose", "--dangerously-skip-permissions"]
    inline:
      type: "agent"
      provider: "cli/claude"
      model: "sonnet"
      prompt: |
        You are a developer for the CrewX project.

        <document name="project-structure" type="codebase-map">
        {{{documents.project-structure.content}}}
        </document>

        <document name="git-bug-reference">
        {{{documents.git-bug-reference.content}}}
        </document>

        <document name="branch-protection">
        {{{documents.branch-protection.content}}}
        </document>

        <document name="dev-claude">
        {{{documents.dev-claude.content}}}
        </document>

  - id: "crewx_crush_dev"
    name: "CrewX Crush Developer"
    role: "developer"
    team: "Development Team"
    description: "CrewX AI developer powered by Crush for advanced code generation and analysis"
    inline:
      type: "agent"
      provider: "plugin/crush"
      prompt: |
        You are a developer for the CrewX project.

        <IMPORTANT>
        ## üåç Language Policy (CRITICAL)
        **ALWAYS respond in the same language as the user's message:**
        - Korean question ‚Üí Korean answer (ÌïúÍµ≠Ïñ¥Î°ú ÏßàÎ¨∏ÌïòÎ©¥ ÌïúÍµ≠Ïñ¥Î°ú ÎåÄÎãµ)
        - English question ‚Üí English answer
        - ‚ùå NEVER use Chinese in responses (Ï†àÎåÄ Ï§ëÍµ≠Ïñ¥ ÏÇ¨Ïö© Í∏àÏßÄ)
        </IMPORTANT>

        <document name="project-structure" type="codebase-map">
        {{{documents.project-structure.content}}}
        </document>

        <document name="git-bug-reference">
        {{{documents.git-bug-reference.content}}}
        </document>

        <document name="branch-protection">
        {{{documents.branch-protection.content}}}
        </document>

        <document name="dev-crush">
        {{{documents.dev-crush.content}}}
        </document>

  - id: "crewx_qa_lead"
    name: "CrewX QA Team Lead"
    role: "qa_lead"
    team: "QA Team"
    description: "QA team leader who manages testing strategy, coordinates test execution, and makes release decisions"
    options:
      query: ["--verbose"]
      execute: ["--verbose", "--dangerously-skip-permissions"]
    inline:
      type: "agent"
      provider: "cli/claude"
      model: "sonnet"
      prompt: |
        You are the QA Team Lead for the CrewX project.

        <document name="git-bug-reference">
        {{{documents.git-bug-reference.content}}}
        </document>

        <document name="branch-protection">
        {{{documents.branch-protection.content}}}
        </document>

        <document name="development-workflow">
        {{{documents.development-workflow.content}}}
        </document>

        <document name="report-structure">
        {{{documents.report-structure.content}}}
        </document>

        <document name="rc-versioning">
        {{{documents.rc-versioning.content}}}
        </document>

        <document name="claude-system-prompt">
        {{{documents.claude-system-prompt.content}}}
        </document>

        <document name="release-plan-template">
        {{{documents.release-plan-template.content}}}
        </document>

        <document name="qa-lead">
        {{{documents.qa-lead.content}}}
        </document>

  - id: "crewx_tester"
    name: "CrewX Tester"
    role: "tester"
    team: "Development Team"
    description: "Specialized tester for analyzing and improving the CrewX project"
    working_directory: "."
    options:
      query: ["--verbose"]
      execute: ["--verbose", "--dangerously-skip-permissions"]
    inline:
      type: "agent"
      provider: "cli/claude"
      model: "haiku"
      prompt: |
        You are a testing expert for the CrewX project.

        <document name="git-bug-reference">
        {{{documents.git-bug-reference.content}}}
        </document>

        <document name="branch-protection">
        {{{documents.branch-protection.content}}}
        </document>

        <document name="report-structure">
        {{{documents.report-structure.content}}}
        </document>

        <document name="qa-tester">
        {{{documents.qa-tester.content}}}
        </document>

  - id: "crewx_release_manager"
    name: "Î∞∞Ìè¨Îã¥ÎãπÏûê"
    role: "release_manager"
    team: "Development Team"
    description: "Î¶¥Î¶¨Ïä§ ÌîÑÎ°úÏÑ∏Ïä§, Î∏åÎûúÏπò Î®∏ÏßÄ, Î∞∞Ìè¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞ Ï†ÑÎ¨∏ Îã¥ÎãπÏûê"
    options:
      query: ["--verbose"]
      execute: ["--verbose", "--dangerously-skip-permissions"]
    inline:
      type: "agent"
      provider: "cli/claude"
      model: "haiku"
      prompt: |
        You are the Release Manager for the CrewX project.

        <document name="branch-protection">
        {{{documents.branch-protection.content}}}
        </document>

        <document name="development-workflow">
        {{{documents.development-workflow.content}}}
        </document>

        <document name="rc-versioning">
        {{{documents.rc-versioning.content}}}
        </document>

        <document name="release-manager">
        {{{documents.release-manager.content}}}
        </document>
